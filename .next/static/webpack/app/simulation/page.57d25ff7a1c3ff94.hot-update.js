"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/simulation/page",{

/***/ "(app-pages-browser)/./src/app/simulation/page.tsx":
/*!*************************************!*\
  !*** ./src/app/simulation/page.tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Simulation; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"(app-pages-browser)/./node_modules/next/dist/api/app-dynamic.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_chartjs_2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-chartjs-2 */ \"(app-pages-browser)/./node_modules/react-chartjs-2/dist/index.js\");\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! chart.js */ \"(app-pages-browser)/./node_modules/chart.js/dist/chart.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n// Dynamically load react-p5 since p5.js relies on browser-specific features\nconst Sketch = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_react-p5_build_index_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! react-p5 */ \"(app-pages-browser)/./node_modules/react-p5/build/index.js\", 23)).then((mod)=>mod.default), {\n    loadableGenerated: {\n        modules: [\n            \"app/simulation/page.tsx -> \" + \"react-p5\"\n        ]\n    },\n    ssr: false\n});\n_c = Sketch;\n// Register Chart.js components\nchart_js__WEBPACK_IMPORTED_MODULE_4__.Chart.register(chart_js__WEBPACK_IMPORTED_MODULE_4__.LineElement, chart_js__WEBPACK_IMPORTED_MODULE_4__.CategoryScale, chart_js__WEBPACK_IMPORTED_MODULE_4__.LinearScale, chart_js__WEBPACK_IMPORTED_MODULE_4__.PointElement);\nfunction Simulation() {\n    _s();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useSearchParams)();\n    const vaccineEfficacy = parseFloat(searchParams.get(\"vaccineEfficacy\") || \"0.8\");\n    const populationVaccinated = parseFloat(searchParams.get(\"populationVaccinated\") || \"0.7\");\n    const infectionProbability = parseFloat(searchParams.get(\"infectionProbability\") || \"0.5\");\n    const vaccinatedRecoveryRate = parseFloat(searchParams.get(\"vaccinatedRecoveryRate\") || \"0.5\");\n    const unvaccinatedRecoveryRate = parseFloat(searchParams.get(\"unvaccinatedRecoveryRate\") || \"0.1\");\n    const peakInfectionDay = parseInt(searchParams.get(\"peakInfectionDay\") || \"5\");\n    const totalDays = parseInt(searchParams.get(\"totalDays\") || \"30\");\n    const populationSize = parseInt(searchParams.get(\"populationSize\") || \"1000\");\n    // Population array managed outside of React state for performance\n    const [people, setPeople] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    //const populationSize = 100;\n    const p5Instance = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null); // Reference to p5.js instance\n    // Simulation speed control\n    const [speed, setSpeed] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(1); // 1x speed by default\n    // Chart data\n    const [chartData, setChartData] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        labels: [],\n        datasets: [\n            {\n                label: \"Healthy\",\n                data: [],\n                borderColor: \"blue\",\n                fill: false\n            },\n            {\n                label: \"Infected\",\n                data: [],\n                borderColor: \"red\",\n                fill: false\n            },\n            {\n                label: \"Recovered\",\n                data: [],\n                borderColor: \"green\",\n                fill: false\n            }\n        ]\n    });\n    const frameCount = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(0); // Keep track of the simulation frames\n    // Person object representing each individual in the population\n    class Person {\n        // Determine if a person can get infected\n        tryToInfect(p5, infectionRadius) {\n            if (this.status === \"healthy\") {\n                for (let other of people){\n                    if (other.status === \"infected\") {\n                        // Check if this person is within infection radius\n                        let d = p5.dist(this.x, this.y, other.x, other.y);\n                        if (d < infectionRadius) {\n                            // Check vaccination status and infection probability\n                            if (!this.vaccinated || Math.random() > vaccineEfficacy) {\n                                // Random chance of infection\n                                if (Math.random() < infectionProbability) {\n                                    this.status = \"infected\"; // This person gets infected\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        move(p5) {\n            this.x += p5.random(-5, 5); // Increased movement\n            this.y += p5.random(-5, 5);\n            this.x = p5.constrain(this.x, 0, p5.width);\n            this.y = p5.constrain(this.y, 0, p5.height);\n        }\n        show(p5) {\n            if (this.status === \"healthy\") {\n                p5.fill(100, 200, 255); // blue for healthy\n            } else if (this.status === \"infected\") {\n                p5.fill(255, 100, 100); // red for infected\n            } else if (this.status === \"recovered\") {\n                p5.fill(0, 255, 0); // green for recovered\n            }\n            p5.ellipse(this.x, this.y, 20, 20);\n        }\n        // recover() {\n        //   if (this.status === \"infected\" && Math.random() < 0.01) {\n        //     this.status = \"recovered\";\n        //   }\n        // }\n        // new recover function needed\n        recover() {\n            if (this.status === \"infected\") {\n                const recoveryChance = this.vaccinated ? vaccinatedRecoveryRate : unvaccinatedRecoveryRate;\n                if (Math.random() < recoveryChance) {\n                    this.status = \"recovered\";\n                }\n            }\n        }\n        constructor(x, y, vaccinated, status = \"healthy\"){\n            this.x = x;\n            this.y = y;\n            this.vaccinated = vaccinated;\n            this.status = status;\n        }\n    }\n    // Initialize population once in useEffect\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        if (people.length === 0) {\n            const newPeople = [];\n            for(let i = 0; i < populationSize; i++){\n                let x = Math.random() * 800;\n                let y = Math.random() * 600;\n                let vaccinated = Math.random() < populationVaccinated;\n                newPeople.push(new Person(x, y, vaccinated));\n            }\n            for(let i = 0; i < 50; i++){\n                newPeople[i].status = \"infected\"; // setting to infected from start\n            }\n            setPeople(newPeople);\n        }\n    }, []); // Empty dependency array ensures people are initialized only once\n    // Function to update chart data\n    const updateChartData = (healthy, infected, recovered, frame)=>{\n        setChartData((prevData)=>({\n                labels: [\n                    ...prevData.labels,\n                    frame\n                ],\n                datasets: [\n                    {\n                        ...prevData.datasets[0],\n                        data: [\n                            ...prevData.datasets[0].data,\n                            healthy\n                        ]\n                    },\n                    {\n                        ...prevData.datasets[1],\n                        data: [\n                            ...prevData.datasets[1].data,\n                            infected\n                        ]\n                    },\n                    {\n                        ...prevData.datasets[2],\n                        data: [\n                            ...prevData.datasets[2].data,\n                            recovered\n                        ]\n                    }\n                ]\n            }));\n    };\n    // p5.js setup and draw functions\n    const setup = (p5, canvasParentRef)=>{\n        p5.createCanvas(800, 600).parent(canvasParentRef);\n        p5Instance.current = p5; // Save p5.js instance for future reference\n        p5.frameRate(30); // Set default frame rate\n    };\n    const draw = (p5)=>{\n        p5.background(255);\n        let healthyCount = 0;\n        let infectedCount = 0;\n        let recoveredCount = 0;\n        // Render and update each person\n        people.forEach((person)=>{\n            person.move(p5);\n            person.show(p5);\n            person.tryToInfect(p5, 50); // Infection radius is 50 pixels\n            person.recover();\n            // Count people by their status\n            if (person.status === \"healthy\") healthyCount++;\n            if (person.status === \"infected\") infectedCount++;\n            if (person.status === \"recovered\") recoveredCount++;\n        });\n        if (frameCount.current > totalDays * 30) {\n            p5.noLoop();\n        }\n        // Update the chart every frame\n        frameCount.current++;\n        updateChartData(healthyCount, infectedCount, recoveredCount, frameCount.current);\n    };\n    // Handle speed changes using p5's frameRate()\n    const handleSpeedChange = ()=>{\n        if (speed === 1) {\n            setSpeed(2); // Speed up to 2x\n            p5Instance.current.frameRate(60); // Double the frame rate for 2x speed\n        } else if (speed === 2) {\n            setSpeed(4); // Speed up to 4x\n            p5Instance.current.frameRate(120); // Quadruple the frame rate for 4x speed\n        } else {\n            setSpeed(1); // Reset to 1x speed\n            p5Instance.current.frameRate(30); // Default frame rate\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            gap: \"20px\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        children: \"Flu Simulation\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 269,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Vaccine Efficacy: \",\n                            Math.round(vaccineEfficacy * 100),\n                            \"%\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 270,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Population Vaccinated: \",\n                            Math.round(populationVaccinated * 100),\n                            \"%\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 271,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Infection Probability: \",\n                            Math.round(infectionProbability * 100),\n                            \"%\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 272,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \" \",\n                            \"Vaccinated Recovery Rate: \",\n                            Math.round(vaccinatedRecoveryRate * 100),\n                            \"%\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 273,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Unvaccinated Recovery Rate:\",\n                            \" \",\n                            Math.round(unvaccinatedRecoveryRate * 100),\n                            \"%\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 277,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Peak Infection Day: \",\n                            peakInfectionDay\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 281,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Total Days: \",\n                            totalDays\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 282,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Population Size: \",\n                            populationSize\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 283,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleSpeedChange,\n                        children: speed === 1 ? \"Speed Up (2x)\" : speed === 2 ? \"Speed Up (4x)\" : \"Reset Speed (1x)\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 285,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Sketch, {\n                        setup: setup,\n                        draw: draw\n                    }, void 0, false, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 293,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                lineNumber: 268,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    width: \"400px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        children: \"Status Over Time\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 298,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_chartjs_2__WEBPACK_IMPORTED_MODULE_5__.Line, {\n                        data: chartData\n                    }, void 0, false, {\n                        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                        lineNumber: 299,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n                lineNumber: 297,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kota/Documents/FluFlighters/src/app/simulation/page.tsx\",\n        lineNumber: 266,\n        columnNumber: 5\n    }, this);\n} //-------------------\n // \"use client\";\n // import { useSearchParams } from \"next/navigation\";\n // import dynamic from \"next/dynamic\";\n // import { useEffect, useRef, useState } from \"react\";\n // import { Line } from \"react-chartjs-2\";\n // import {\n //   Chart as ChartJS,\n //   LineElement,\n //   CategoryScale,\n //   LinearScale,\n //   PointElement,\n // } from \"chart.js\";\n // import Modal from 'react-modal';\n // // Dynamically load react-p5 since p5.js relies on browser-specific features\n // const Sketch = dynamic(() => import(\"react-p5\").then((mod) => mod.default), {\n //   ssr: false,\n // });\n // // Register Chart.js components\n // ChartJS.register(LineElement, CategoryScale, LinearScale, PointElement);\n // // Define chart data type\n // type ChartData = {\n //   labels: number[];\n //   datasets: {\n //     label: string;\n //     data: number[];\n //     borderColor: string;\n //     fill: boolean;\n //     borderDash?: number[];\n //   }[];\n // };\n // export default function Simulation() {\n //   const [showModal, setShowModal] = useState(false);\n //   const [graphs, setGraphs] = useState([]);\n //   const searchParams = useSearchParams();\n //   const addNewGraph = (newParams)=> {\n //     const newGraphData = runSimulation(newParams);\n //     setGraphs([...graphs, newGraphData]);\n //     setShowModal(false);\n //   }\n //   // Extract parameters from URL\n //   const vaccineEfficacy = parseFloat(\n //     searchParams.get(\"vaccineEfficacy\") || \"0.8\"\n //   );\n //   const populationVaccinated = parseFloat(\n //     searchParams.get(\"populationVaccinated\") || \"0.7\"\n //   );\n //   const infectionProbability = parseFloat(\n //     searchParams.get(\"infectionProbability\") || \"0.5\"\n //   );\n //   const vaccinatedRecoveryRate = parseFloat(\n //     searchParams.get(\"vaccinatedRecoveryRate\") || \"0.5\"\n //   );\n //   const unvaccinatedRecoveryRate = parseFloat(\n //     searchParams.get(\"unvaccinatedRecoveryRate\") || \"0.1\"\n //   );\n //   const peakInfectionDay = parseInt(\n //     searchParams.get(\"peakInfectionDay\") || \"5\"\n //   );\n //   const totalDays = parseInt(searchParams.get(\"totalDays\") || \"30\");\n //   const populationSize = parseInt(searchParams.get(\"populationSize\") || \"100\");\n //   // State for simulation data\n //   const [days, setDays] = useState<number[]>([]);\n //   const [susceptiblePopulation, setSusceptiblePopulation] = useState<number[]>(\n //     []\n //   );\n //   const [infectedPopulation, setInfectedPopulation] = useState<number[]>([]);\n //   const [recoveredVaccinated, setRecoveredVaccinated] = useState<number[]>([]);\n //   const [recoveredUnvaccinated, setRecoveredUnvaccinated] = useState<number[]>(\n //     []\n //   );\n //   const [totalRecoveredPopulation, setTotalRecoveredPopulation] = useState<\n //     number[]\n //   >([]);\n //   const [speed, setSpeed] = useState(1); // 1x speed by default\n //   const p5Instance = useRef<any>(null); // Reference to p5.js instance\n //   // Chart data\n //   const [chartData, setChartData] = useState<ChartData>({\n //     labels: [], // Frame count (or time steps)\n //     datasets: [\n //       {\n //         label: \"Susceptible\",\n //         data: [],\n //         borderColor: \"orange\",\n //         fill: false,\n //       },\n //       {\n //         label: \"Infected\",\n //         data: [],\n //         borderColor: \"red\",\n //         fill: false,\n //       },\n //       {\n //         label: \"Total Recovered\",\n //         data: [],\n //         borderColor: \"green\",\n //         fill: false,\n //       },\n //       {\n //         label: \"Recovered Vaccinated\",\n //         data: [],\n //         borderColor: \"blue\",\n //         borderDash: [5, 5],\n //         fill: false,\n //       },\n //       {\n //         label: \"Recovered Unvaccinated\",\n //         data: [],\n //         borderColor: \"purple\",\n //         borderDash: [5, 5],\n //         fill: false,\n //       },\n //     ],\n //   });\n //   // Initialize and calculate flu model data\n //   useEffect(() => {\n //     const daysArray = Array.from(\n //       { length: 100 },\n //       (_, i) => (i / 100) * totalDays\n //     );\n //     setDays(daysArray);\n //     const vaccinatedPopulation = populationSize * populationVaccinated;\n //     const unvaccinatedPopulation = populationSize * (1 - populationVaccinated);\n //     // Calculate recovered population\n //     const recoveredVaccinatedArray = daysArray.map(\n //       (day) =>\n //         (1 / (1 + Math.exp(-vaccinatedRecoveryRate * (day - totalDays / 2)))) *\n //         vaccinatedPopulation\n //     );\n //     const recoveredUnvaccinatedArray = daysArray.map(\n //       (day) =>\n //         (1 /\n //           (1 + Math.exp(-unvaccinatedRecoveryRate * (day - totalDays / 2)))) *\n //         unvaccinatedPopulation\n //     );\n //     const infectedArray = daysArray.map(\n //       (day) =>\n //         Math.exp(-infectionProbability * (day - peakInfectionDay) ** 2) *\n //         populationSize\n //     );\n //     const recoveredArray = recoveredVaccinatedArray.map(\n //       (rv, i) => rv + recoveredUnvaccinatedArray[i]\n //     );\n //     const susceptibleArray = daysArray.map((_, i) => {\n //       const susceptibleValue =\n //         populationSize - (infectedArray[i] + recoveredArray[i]);\n //       return Math.max(susceptibleValue, 0); // Ensure no negative values\n //     });\n //     // Set calculated state variables\n //     setSusceptiblePopulation(susceptibleArray);\n //     setInfectedPopulation(infectedArray);\n //     setRecoveredVaccinated(recoveredVaccinatedArray);\n //     setRecoveredUnvaccinated(recoveredUnvaccinatedArray);\n //     setTotalRecoveredPopulation(recoveredArray);\n //   }, [\n //     infectionProbability,\n //     vaccinatedRecoveryRate,\n //     unvaccinatedRecoveryRate,\n //     populationVaccinated,\n //     peakInfectionDay,\n //     totalDays,\n //     populationSize,\n //   ]);\n //   // Update chart data when state changes\n //   useEffect(() => {\n //     setChartData({\n //       labels: days,\n //       datasets: [\n //         {\n //           label: \"Susceptible\",\n //           data: susceptiblePopulation,\n //           borderColor: \"orange\",\n //           fill: false,\n //         },\n //         {\n //           label: \"Infected\",\n //           data: infectedPopulation,\n //           borderColor: \"red\",\n //           fill: false,\n //         },\n //         {\n //           label: \"Total Recovered\",\n //           data: totalRecoveredPopulation,\n //           borderColor: \"green\",\n //           fill: false,\n //         },\n //         {\n //           label: \"Recovered Vaccinated\",\n //           data: recoveredVaccinated,\n //           borderColor: \"blue\",\n //           borderDash: [5, 5],\n //           fill: false,\n //         },\n //         {\n //           label: \"Recovered Unvaccinated\",\n //           data: recoveredUnvaccinated,\n //           borderColor: \"purple\",\n //           borderDash: [5, 5],\n //           fill: false,\n //         },\n //       ],\n //     });\n //   }, [\n //     days,\n //     susceptiblePopulation,\n //     infectedPopulation,\n //     totalRecoveredPopulation,\n //     recoveredVaccinated,\n //     recoveredUnvaccinated,\n //   ]);\n //   // p5.js setup and draw functions\n //   const setup = (p5: any, canvasParentRef: Element) => {\n //     p5.createCanvas(800, 600).parent(canvasParentRef);\n //     p5Instance.current = p5;\n //     p5.frameRate(30);\n //   };\n //   const draw = (p5: any) => {\n //     p5.background(255);\n //   };\n //   // Handle speed changes using p5's frameRate()\n //   const handleSpeedChange = () => {\n //     if (speed === 1) {\n //       setSpeed(2);\n //       p5Instance.current.frameRate(60);\n //     } else if (speed === 2) {\n //       setSpeed(4);\n //       p5Instance.current.frameRate(120);\n //     } else {\n //       setSpeed(1);\n //       p5Instance.current.frameRate(30);\n //     }\n //   };\n //   return (\n //     <div style={{ display: \"flex\", gap: \"20px\" }}>\n //       {/* Left: Simulation */}\n //       <div>\n //         <h2>Flu Simulation</h2>\n //         <p>Vaccine Efficacy: {Math.round(vaccineEfficacy * 100)}%</p>\n //         <p>Population Vaccinated: {Math.round(populationVaccinated * 100)}%</p>\n //         <p>Infection Probability: {Math.round(infectionProbability * 100)}%</p>\n //         <p>\n //           Vaccinated Recovery Rate: {Math.round(vaccinatedRecoveryRate * 100)}%\n //         </p>\n //         <p>\n //           Unvaccinated Recovery Rate:{\" \"}\n //           {Math.round(unvaccinatedRecoveryRate * 100)}%\n //         </p>\n //         <p>Peak Infection Day: {peakInfectionDay}</p>\n //         <p>Total Days: {totalDays}</p>\n //         <p>Population Size: {populationSize}</p>\n //         <button onClick={handleSpeedChange}>\n //           {speed === 1\n //             ? \"Speed Up (2x)\"\n //             : speed === 2\n //             ? \"Speed Up (4x)\"\n //             : \"Reset Speed (1x)\"}\n //         </button>\n //         <Sketch setup={setup} draw={draw} />\n //       </div>\n //       {/* Right: Line Graph */}\n //       <div style={{ width: \"400px\" }}>\n //         <h3>Status Over Time</h3>\n //         <Line data={chartData} />\n //       </div>\n //   <button onClick={() => setShowModal(true)}>Add New</button>\n //       {/* Modal for adding new graph */}\n //       <Modal isOpen={showModal} onRequestClose={() => setShowModal(false)}>\n //         <h2>Enter New Parameters</h2>\n //         <ParameterForm onSubmit={addNewGraph} closeModal={() => setShowModal(false)} />\n //       </Modal>\n //       {/* Display all graphs */}\n //       {graphs.map((graph, index) => (\n //         <div key={index}>\n //           <h3>Graph {index + 1}</h3>\n //           <Line data={graph} />\n //         </div>\n //       ))}\n //     </div>\n //   );\n // }\n_s(Simulation, \"2xhNTztj2xHNFMq6TkBqAsoHbHQ=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useSearchParams\n    ];\n});\n_c1 = Simulation;\nvar _c, _c1;\n$RefreshReg$(_c, \"Sketch\");\n$RefreshReg$(_c1, \"Simulation\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvc2ltdWxhdGlvbi9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBRWtEO0FBQ2Y7QUFDaUI7QUFDYjtBQU9yQjtBQUVsQiw0RUFBNEU7QUFDNUUsTUFBTVksU0FBU1gsd0RBQU9BLENBQUMsSUFBTSx3T0FBa0IsQ0FBQ1ksSUFBSSxDQUFDLENBQUNDLE1BQVFBLElBQUlDLE9BQU87Ozs7OztJQUN2RUMsS0FBSzs7S0FEREo7QUFHTiwrQkFBK0I7QUFDL0JMLDJDQUFPQSxDQUFDVSxRQUFRLENBQUNULGlEQUFXQSxFQUFFQyxtREFBYUEsRUFBRUMsaURBQVdBLEVBQUVDLGtEQUFZQTtBQWF2RCxTQUFTTzs7SUFDdEIsTUFBTUMsZUFBZW5CLGdFQUFlQTtJQUVwQyxNQUFNb0Isa0JBQWtCQyxXQUN0QkYsYUFBYUcsR0FBRyxDQUFDLHNCQUFzQjtJQUV6QyxNQUFNQyx1QkFBdUJGLFdBQzNCRixhQUFhRyxHQUFHLENBQUMsMkJBQTJCO0lBRTlDLE1BQU1FLHVCQUF1QkgsV0FDM0JGLGFBQWFHLEdBQUcsQ0FBQywyQkFBMkI7SUFHOUMsTUFBTUcseUJBQXlCSixXQUM3QkYsYUFBYUcsR0FBRyxDQUFDLDZCQUE2QjtJQUdoRCxNQUFNSSwyQkFBMkJMLFdBQy9CRixhQUFhRyxHQUFHLENBQUMsK0JBQStCO0lBR2xELE1BQU1LLG1CQUFtQkMsU0FDdkJULGFBQWFHLEdBQUcsQ0FBQyx1QkFBdUI7SUFHMUMsTUFBTU8sWUFBWUQsU0FBU1QsYUFBYUcsR0FBRyxDQUFDLGdCQUFnQjtJQUU1RCxNQUFNUSxpQkFBaUJGLFNBQVNULGFBQWFHLEdBQUcsQ0FBQyxxQkFBcUI7SUFFdEUsa0VBQWtFO0lBQ2xFLE1BQU0sQ0FBQ1MsUUFBUUMsVUFBVSxHQUFHNUIsK0NBQVFBLENBQVcsRUFBRTtJQUNqRCw2QkFBNkI7SUFDN0IsTUFBTTZCLGFBQWE5Qiw2Q0FBTUEsQ0FBTSxPQUFPLDhCQUE4QjtJQUVwRSwyQkFB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QzlFLHdDQUF3QztDQUN4QywwRkFBMEY7Q0FDMUYsaUJBQWlCO0NBRWpCLG1DQUFtQztDQUNuQyx3Q0FBd0M7Q0FDeEMsNEJBQTRCO0NBQzVCLHVDQUF1QztDQUN2QyxrQ0FBa0M7Q0FDbEMsaUJBQWlCO0NBQ2pCLFlBQVk7Q0FDWixhQUFhO0NBQ2IsT0FBTztDQUVQLElBQUk7R0F2a0JvQmxCOztRQUNEbEIsNERBQWVBOzs7TUFEZGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvc2ltdWxhdGlvbi9wYWdlLnRzeD9hMzVlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgZHluYW1pYyBmcm9tIFwibmV4dC9keW5hbWljXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwicmVhY3QtY2hhcnRqcy0yXCI7XG5pbXBvcnQge1xuICBDaGFydCBhcyBDaGFydEpTLFxuICBMaW5lRWxlbWVudCxcbiAgQ2F0ZWdvcnlTY2FsZSxcbiAgTGluZWFyU2NhbGUsXG4gIFBvaW50RWxlbWVudCxcbn0gZnJvbSBcImNoYXJ0LmpzXCI7XG5cbi8vIER5bmFtaWNhbGx5IGxvYWQgcmVhY3QtcDUgc2luY2UgcDUuanMgcmVsaWVzIG9uIGJyb3dzZXItc3BlY2lmaWMgZmVhdHVyZXNcbmNvbnN0IFNrZXRjaCA9IGR5bmFtaWMoKCkgPT4gaW1wb3J0KFwicmVhY3QtcDVcIikudGhlbigobW9kKSA9PiBtb2QuZGVmYXVsdCksIHtcbiAgc3NyOiBmYWxzZSxcbn0pO1xuLy8gUmVnaXN0ZXIgQ2hhcnQuanMgY29tcG9uZW50c1xuQ2hhcnRKUy5yZWdpc3RlcihMaW5lRWxlbWVudCwgQ2F0ZWdvcnlTY2FsZSwgTGluZWFyU2NhbGUsIFBvaW50RWxlbWVudCk7XG5cbi8vIERlZmluZSBjaGFydCBkYXRhIHR5cGVcbnR5cGUgQ2hhcnREYXRhID0ge1xuICBsYWJlbHM6IG51bWJlcltdO1xuICBkYXRhc2V0czoge1xuICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgZGF0YTogbnVtYmVyW107XG4gICAgYm9yZGVyQ29sb3I6IHN0cmluZztcbiAgICBmaWxsOiBib29sZWFuO1xuICB9W107XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaW11bGF0aW9uKCkge1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcblxuICBjb25zdCB2YWNjaW5lRWZmaWNhY3kgPSBwYXJzZUZsb2F0KFxuICAgIHNlYXJjaFBhcmFtcy5nZXQoXCJ2YWNjaW5lRWZmaWNhY3lcIikgfHwgXCIwLjhcIlxuICApO1xuICBjb25zdCBwb3B1bGF0aW9uVmFjY2luYXRlZCA9IHBhcnNlRmxvYXQoXG4gICAgc2VhcmNoUGFyYW1zLmdldChcInBvcHVsYXRpb25WYWNjaW5hdGVkXCIpIHx8IFwiMC43XCJcbiAgKTtcbiAgY29uc3QgaW5mZWN0aW9uUHJvYmFiaWxpdHkgPSBwYXJzZUZsb2F0KFxuICAgIHNlYXJjaFBhcmFtcy5nZXQoXCJpbmZlY3Rpb25Qcm9iYWJpbGl0eVwiKSB8fCBcIjAuNVwiXG4gICk7XG5cbiAgY29uc3QgdmFjY2luYXRlZFJlY292ZXJ5UmF0ZSA9IHBhcnNlRmxvYXQoXG4gICAgc2VhcmNoUGFyYW1zLmdldChcInZhY2NpbmF0ZWRSZWNvdmVyeVJhdGVcIikgfHwgXCIwLjVcIlxuICApO1xuXG4gIGNvbnN0IHVudmFjY2luYXRlZFJlY292ZXJ5UmF0ZSA9IHBhcnNlRmxvYXQoXG4gICAgc2VhcmNoUGFyYW1zLmdldChcInVudmFjY2luYXRlZFJlY292ZXJ5UmF0ZVwiKSB8fCBcIjAuMVwiXG4gICk7XG5cbiAgY29uc3QgcGVha0luZmVjdGlvbkRheSA9IHBhcnNlSW50KFxuICAgIHNlYXJjaFBhcmFtcy5nZXQoXCJwZWFrSW5mZWN0aW9uRGF5XCIpIHx8IFwiNVwiXG4gICk7XG5cbiAgY29uc3QgdG90YWxEYXlzID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldChcInRvdGFsRGF5c1wiKSB8fCBcIjMwXCIpO1xuXG4gIGNvbnN0IHBvcHVsYXRpb25TaXplID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldChcInBvcHVsYXRpb25TaXplXCIpIHx8IFwiMTAwMFwiKTtcblxuICAvLyBQb3B1bGF0aW9uIGFycmF5IG1hbmFnZWQgb3V0c2lkZSBvZiBSZWFjdCBzdGF0ZSBmb3IgcGVyZm9ybWFuY2VcbiAgY29uc3QgW3Blb3BsZSwgc2V0UGVvcGxlXSA9IHVzZVN0YXRlPFBlcnNvbltdPihbXSk7XG4gIC8vY29uc3QgcG9wdWxhdGlvblNpemUgPSAxMDA7XG4gIGNvbnN0IHA1SW5zdGFuY2UgPSB1c2VSZWY8YW55PihudWxsKTsgLy8gUmVmZXJlbmNlIHRvIHA1LmpzIGluc3RhbmNlXG5cbiAgLy8gU2ltdWxhdGlvbiBzcGVlZCBjb250cm9sXG4gIGNvbnN0IFtzcGVlZCwgc2V0U3BlZWRdID0gdXNlU3RhdGUoMSk7IC8vIDF4IHNwZWVkIGJ5IGRlZmF1bHRcblxuICAvLyBDaGFydCBkYXRhXG4gIGNvbnN0IFtjaGFydERhdGEsIHNldENoYXJ0RGF0YV0gPSB1c2VTdGF0ZTxDaGFydERhdGE+KHtcbiAgICBsYWJlbHM6IFtdLCAvLyBGcmFtZSBjb3VudCAob3IgdGltZSBzdGVwcylcbiAgICBkYXRhc2V0czogW1xuICAgICAge1xuICAgICAgICBsYWJlbDogXCJIZWFsdGh5XCIsXG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgICBib3JkZXJDb2xvcjogXCJibHVlXCIsXG4gICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6IFwiSW5mZWN0ZWRcIixcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIGJvcmRlckNvbG9yOiBcInJlZFwiLFxuICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiBcIlJlY292ZXJlZFwiLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgYm9yZGVyQ29sb3I6IFwiZ3JlZW5cIixcbiAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0sXG4gIH0pO1xuICBjb25zdCBmcmFtZUNvdW50ID0gdXNlUmVmKDApOyAvLyBLZWVwIHRyYWNrIG9mIHRoZSBzaW11bGF0aW9uIGZyYW1lc1xuXG4gIC8vIFBlcnNvbiBvYmplY3QgcmVwcmVzZW50aW5nIGVhY2ggaW5kaXZpZHVhbCBpbiB0aGUgcG9wdWxhdGlvblxuICBjbGFzcyBQZXJzb24ge1xuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG4gICAgc3RhdHVzOiBzdHJpbmc7IC8vICdoZWFsdGh5JywgJ2luZmVjdGVkJywgJ3JlY292ZXJlZCdcbiAgICB2YWNjaW5hdGVkOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIHZhY2NpbmF0ZWQ6IGJvb2xlYW4sIHN0YXR1cyA9IFwiaGVhbHRoeVwiKSB7XG4gICAgICB0aGlzLnggPSB4O1xuICAgICAgdGhpcy55ID0geTtcbiAgICAgIHRoaXMudmFjY2luYXRlZCA9IHZhY2NpbmF0ZWQ7XG4gICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgaWYgYSBwZXJzb24gY2FuIGdldCBpbmZlY3RlZFxuICAgIHRyeVRvSW5mZWN0KHA1OiBhbnksIGluZmVjdGlvblJhZGl1czogbnVtYmVyKSB7XG4gICAgICBpZiAodGhpcy5zdGF0dXMgPT09IFwiaGVhbHRoeVwiKSB7XG4gICAgICAgIGZvciAobGV0IG90aGVyIG9mIHBlb3BsZSkge1xuICAgICAgICAgIGlmIChvdGhlci5zdGF0dXMgPT09IFwiaW5mZWN0ZWRcIikge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBwZXJzb24gaXMgd2l0aGluIGluZmVjdGlvbiByYWRpdXNcbiAgICAgICAgICAgIGxldCBkID0gcDUuZGlzdCh0aGlzLngsIHRoaXMueSwgb3RoZXIueCwgb3RoZXIueSk7XG4gICAgICAgICAgICBpZiAoZCA8IGluZmVjdGlvblJhZGl1cykge1xuICAgICAgICAgICAgICAvLyBDaGVjayB2YWNjaW5hdGlvbiBzdGF0dXMgYW5kIGluZmVjdGlvbiBwcm9iYWJpbGl0eVxuICAgICAgICAgICAgICBpZiAoIXRoaXMudmFjY2luYXRlZCB8fCBNYXRoLnJhbmRvbSgpID4gdmFjY2luZUVmZmljYWN5KSB7XG4gICAgICAgICAgICAgICAgLy8gUmFuZG9tIGNoYW5jZSBvZiBpbmZlY3Rpb25cbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IGluZmVjdGlvblByb2JhYmlsaXR5KSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IFwiaW5mZWN0ZWRcIjsgLy8gVGhpcyBwZXJzb24gZ2V0cyBpbmZlY3RlZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIG1vdmUocDU6IGFueSkge1xuICAgICAgdGhpcy54ICs9IHA1LnJhbmRvbSgtNSwgNSk7IC8vIEluY3JlYXNlZCBtb3ZlbWVudFxuICAgICAgdGhpcy55ICs9IHA1LnJhbmRvbSgtNSwgNSk7XG4gICAgICB0aGlzLnggPSBwNS5jb25zdHJhaW4odGhpcy54LCAwLCBwNS53aWR0aCk7XG4gICAgICB0aGlzLnkgPSBwNS5jb25zdHJhaW4odGhpcy55LCAwLCBwNS5oZWlnaHQpO1xuICAgIH1cblxuICAgIHNob3cocDU6IGFueSkge1xuICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBcImhlYWx0aHlcIikge1xuICAgICAgICBwNS5maWxsKDEwMCwgMjAwLCAyNTUpOyAvLyBibHVlIGZvciBoZWFsdGh5XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzID09PSBcImluZmVjdGVkXCIpIHtcbiAgICAgICAgcDUuZmlsbCgyNTUsIDEwMCwgMTAwKTsgLy8gcmVkIGZvciBpbmZlY3RlZFxuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXR1cyA9PT0gXCJyZWNvdmVyZWRcIikge1xuICAgICAgICBwNS5maWxsKDAsIDI1NSwgMCk7IC8vIGdyZWVuIGZvciByZWNvdmVyZWRcbiAgICAgIH1cbiAgICAgIHA1LmVsbGlwc2UodGhpcy54LCB0aGlzLnksIDIwLCAyMCk7XG4gICAgfVxuXG4gICAgLy8gcmVjb3ZlcigpIHtcbiAgICAvLyAgIGlmICh0aGlzLnN0YXR1cyA9PT0gXCJpbmZlY3RlZFwiICYmIE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7XG4gICAgLy8gICAgIHRoaXMuc3RhdHVzID0gXCJyZWNvdmVyZWRcIjtcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gICAgLy8gbmV3IHJlY292ZXIgZnVuY3Rpb24gbmVlZGVkXG5cbiAgICByZWNvdmVyKCkge1xuICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBcImluZmVjdGVkXCIpIHtcbiAgICAgICAgY29uc3QgcmVjb3ZlcnlDaGFuY2UgPSB0aGlzLnZhY2NpbmF0ZWRcbiAgICAgICAgICA/IHZhY2NpbmF0ZWRSZWNvdmVyeVJhdGVcbiAgICAgICAgICA6IHVudmFjY2luYXRlZFJlY292ZXJ5UmF0ZTtcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCByZWNvdmVyeUNoYW5jZSkge1xuICAgICAgICAgIHRoaXMuc3RhdHVzID0gXCJyZWNvdmVyZWRcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgcG9wdWxhdGlvbiBvbmNlIGluIHVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwZW9wbGUubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBuZXdQZW9wbGU6IFBlcnNvbltdID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvcHVsYXRpb25TaXplOyBpKyspIHtcbiAgICAgICAgbGV0IHggPSBNYXRoLnJhbmRvbSgpICogODAwO1xuICAgICAgICBsZXQgeSA9IE1hdGgucmFuZG9tKCkgKiA2MDA7XG4gICAgICAgIGxldCB2YWNjaW5hdGVkID0gTWF0aC5yYW5kb20oKSA8IHBvcHVsYXRpb25WYWNjaW5hdGVkO1xuICAgICAgICBuZXdQZW9wbGUucHVzaChuZXcgUGVyc29uKHgsIHksIHZhY2NpbmF0ZWQpKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTA7IGkrKykge1xuICAgICAgICBuZXdQZW9wbGVbaV0uc3RhdHVzID0gXCJpbmZlY3RlZFwiOyAvLyBzZXR0aW5nIHRvIGluZmVjdGVkIGZyb20gc3RhcnRcbiAgICAgIH1cbiAgICAgIHNldFBlb3BsZShuZXdQZW9wbGUpO1xuICAgIH1cbiAgfSwgW10pOyAvLyBFbXB0eSBkZXBlbmRlbmN5IGFycmF5IGVuc3VyZXMgcGVvcGxlIGFyZSBpbml0aWFsaXplZCBvbmx5IG9uY2VcblxuICAvLyBGdW5jdGlvbiB0byB1cGRhdGUgY2hhcnQgZGF0YVxuICBjb25zdCB1cGRhdGVDaGFydERhdGEgPSAoXG4gICAgaGVhbHRoeTogbnVtYmVyLFxuICAgIGluZmVjdGVkOiBudW1iZXIsXG4gICAgcmVjb3ZlcmVkOiBudW1iZXIsXG4gICAgZnJhbWU6IG51bWJlclxuICApID0+IHtcbiAgICBzZXRDaGFydERhdGEoKHByZXZEYXRhKSA9PiAoe1xuICAgICAgbGFiZWxzOiBbLi4ucHJldkRhdGEubGFiZWxzLCBmcmFtZV0sIC8vIEFwcGVuZCB0aGUgbmV3IGZyYW1lIGNvdW50XG4gICAgICBkYXRhc2V0czogW1xuICAgICAgICB7XG4gICAgICAgICAgLi4ucHJldkRhdGEuZGF0YXNldHNbMF0sXG4gICAgICAgICAgZGF0YTogWy4uLnByZXZEYXRhLmRhdGFzZXRzWzBdLmRhdGEsIGhlYWx0aHldLCAvLyBBcHBlbmQgdGhlIG5ldyBoZWFsdGh5IGNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5wcmV2RGF0YS5kYXRhc2V0c1sxXSxcbiAgICAgICAgICBkYXRhOiBbLi4ucHJldkRhdGEuZGF0YXNldHNbMV0uZGF0YSwgaW5mZWN0ZWRdLCAvLyBBcHBlbmQgdGhlIG5ldyBpbmZlY3RlZCBjb3VudFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgLi4ucHJldkRhdGEuZGF0YXNldHNbMl0sXG4gICAgICAgICAgZGF0YTogWy4uLnByZXZEYXRhLmRhdGFzZXRzWzJdLmRhdGEsIHJlY292ZXJlZF0sIC8vIEFwcGVuZCB0aGUgbmV3IHJlY292ZXJlZCBjb3VudFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KSk7XG4gIH07XG5cbiAgLy8gcDUuanMgc2V0dXAgYW5kIGRyYXcgZnVuY3Rpb25zXG4gIGNvbnN0IHNldHVwID0gKHA1OiBhbnksIGNhbnZhc1BhcmVudFJlZjogRWxlbWVudCkgPT4ge1xuICAgIHA1LmNyZWF0ZUNhbnZhcyg4MDAsIDYwMCkucGFyZW50KGNhbnZhc1BhcmVudFJlZik7XG4gICAgcDVJbnN0YW5jZS5jdXJyZW50ID0gcDU7IC8vIFNhdmUgcDUuanMgaW5zdGFuY2UgZm9yIGZ1dHVyZSByZWZlcmVuY2VcbiAgICBwNS5mcmFtZVJhdGUoMzApOyAvLyBTZXQgZGVmYXVsdCBmcmFtZSByYXRlXG4gIH07XG5cbiAgY29uc3QgZHJhdyA9IChwNTogYW55KSA9PiB7XG4gICAgcDUuYmFja2dyb3VuZCgyNTUpO1xuXG4gICAgbGV0IGhlYWx0aHlDb3VudCA9IDA7XG4gICAgbGV0IGluZmVjdGVkQ291bnQgPSAwO1xuICAgIGxldCByZWNvdmVyZWRDb3VudCA9IDA7XG5cbiAgICAvLyBSZW5kZXIgYW5kIHVwZGF0ZSBlYWNoIHBlcnNvblxuICAgIHBlb3BsZS5mb3JFYWNoKChwZXJzb24pID0+IHtcbiAgICAgIHBlcnNvbi5tb3ZlKHA1KTtcbiAgICAgIHBlcnNvbi5zaG93KHA1KTtcbiAgICAgIHBlcnNvbi50cnlUb0luZmVjdChwNSwgNTApOyAvLyBJbmZlY3Rpb24gcmFkaXVzIGlzIDUwIHBpeGVsc1xuICAgICAgcGVyc29uLnJlY292ZXIoKTtcblxuICAgICAgLy8gQ291bnQgcGVvcGxlIGJ5IHRoZWlyIHN0YXR1c1xuICAgICAgaWYgKHBlcnNvbi5zdGF0dXMgPT09IFwiaGVhbHRoeVwiKSBoZWFsdGh5Q291bnQrKztcbiAgICAgIGlmIChwZXJzb24uc3RhdHVzID09PSBcImluZmVjdGVkXCIpIGluZmVjdGVkQ291bnQrKztcbiAgICAgIGlmIChwZXJzb24uc3RhdHVzID09PSBcInJlY292ZXJlZFwiKSByZWNvdmVyZWRDb3VudCsrO1xuICAgIH0pO1xuXG4gICAgaWYgKGZyYW1lQ291bnQuY3VycmVudCA+IHRvdGFsRGF5cyAqIDMwKSB7XG4gICAgICBwNS5ub0xvb3AoKTtcbiAgICB9XG4gICAgLy8gVXBkYXRlIHRoZSBjaGFydCBldmVyeSBmcmFtZVxuICAgIGZyYW1lQ291bnQuY3VycmVudCsrO1xuICAgIHVwZGF0ZUNoYXJ0RGF0YShcbiAgICAgIGhlYWx0aHlDb3VudCxcbiAgICAgIGluZmVjdGVkQ291bnQsXG4gICAgICByZWNvdmVyZWRDb3VudCxcbiAgICAgIGZyYW1lQ291bnQuY3VycmVudFxuICAgICk7XG4gIH07XG5cbiAgLy8gSGFuZGxlIHNwZWVkIGNoYW5nZXMgdXNpbmcgcDUncyBmcmFtZVJhdGUoKVxuICBjb25zdCBoYW5kbGVTcGVlZENoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAoc3BlZWQgPT09IDEpIHtcbiAgICAgIHNldFNwZWVkKDIpOyAvLyBTcGVlZCB1cCB0byAyeFxuICAgICAgcDVJbnN0YW5jZS5jdXJyZW50LmZyYW1lUmF0ZSg2MCk7IC8vIERvdWJsZSB0aGUgZnJhbWUgcmF0ZSBmb3IgMnggc3BlZWRcbiAgICB9IGVsc2UgaWYgKHNwZWVkID09PSAyKSB7XG4gICAgICBzZXRTcGVlZCg0KTsgLy8gU3BlZWQgdXAgdG8gNHhcbiAgICAgIHA1SW5zdGFuY2UuY3VycmVudC5mcmFtZVJhdGUoMTIwKTsgLy8gUXVhZHJ1cGxlIHRoZSBmcmFtZSByYXRlIGZvciA0eCBzcGVlZFxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTcGVlZCgxKTsgLy8gUmVzZXQgdG8gMXggc3BlZWRcbiAgICAgIHA1SW5zdGFuY2UuY3VycmVudC5mcmFtZVJhdGUoMzApOyAvLyBEZWZhdWx0IGZyYW1lIHJhdGVcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IFwiMjBweFwiIH19PlxuICAgICAgey8qIExlZnQ6IFNpbXVsYXRpb24gKi99XG4gICAgICA8ZGl2PlxuICAgICAgICA8aDI+Rmx1IFNpbXVsYXRpb248L2gyPlxuICAgICAgICA8cD5WYWNjaW5lIEVmZmljYWN5OiB7TWF0aC5yb3VuZCh2YWNjaW5lRWZmaWNhY3kgKiAxMDApfSU8L3A+XG4gICAgICAgIDxwPlBvcHVsYXRpb24gVmFjY2luYXRlZDoge01hdGgucm91bmQocG9wdWxhdGlvblZhY2NpbmF0ZWQgKiAxMDApfSU8L3A+XG4gICAgICAgIDxwPkluZmVjdGlvbiBQcm9iYWJpbGl0eToge01hdGgucm91bmQoaW5mZWN0aW9uUHJvYmFiaWxpdHkgKiAxMDApfSU8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIHtcIiBcIn1cbiAgICAgICAgICBWYWNjaW5hdGVkIFJlY292ZXJ5IFJhdGU6IHtNYXRoLnJvdW5kKHZhY2NpbmF0ZWRSZWNvdmVyeVJhdGUgKiAxMDApfSVcbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICBVbnZhY2NpbmF0ZWQgUmVjb3ZlcnkgUmF0ZTp7XCIgXCJ9XG4gICAgICAgICAge01hdGgucm91bmQodW52YWNjaW5hdGVkUmVjb3ZlcnlSYXRlICogMTAwKX0lXG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+UGVhayBJbmZlY3Rpb24gRGF5OiB7cGVha0luZmVjdGlvbkRheX08L3A+XG4gICAgICAgIDxwPlRvdGFsIERheXM6IHt0b3RhbERheXN9PC9wPlxuICAgICAgICA8cD5Qb3B1bGF0aW9uIFNpemU6IHtwb3B1bGF0aW9uU2l6ZX08L3A+XG5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVTcGVlZENoYW5nZX0+XG4gICAgICAgICAge3NwZWVkID09PSAxXG4gICAgICAgICAgICA/IFwiU3BlZWQgVXAgKDJ4KVwiXG4gICAgICAgICAgICA6IHNwZWVkID09PSAyXG4gICAgICAgICAgICA/IFwiU3BlZWQgVXAgKDR4KVwiXG4gICAgICAgICAgICA6IFwiUmVzZXQgU3BlZWQgKDF4KVwifVxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8U2tldGNoIHNldHVwPXtzZXR1cH0gZHJhdz17ZHJhd30gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogUmlnaHQ6IExpbmUgR3JhcGggKi99XG4gICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiBcIjQwMHB4XCIgfX0+XG4gICAgICAgIDxoMz5TdGF0dXMgT3ZlciBUaW1lPC9oMz5cbiAgICAgICAgPExpbmUgZGF0YT17Y2hhcnREYXRhfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBcInVzZSBjbGllbnRcIjtcblxuLy8gaW1wb3J0IHsgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuLy8gaW1wb3J0IGR5bmFtaWMgZnJvbSBcIm5leHQvZHluYW1pY1wiO1xuLy8gaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG4vLyBpbXBvcnQgeyBMaW5lIH0gZnJvbSBcInJlYWN0LWNoYXJ0anMtMlwiO1xuLy8gaW1wb3J0IHtcbi8vICAgQ2hhcnQgYXMgQ2hhcnRKUyxcbi8vICAgTGluZUVsZW1lbnQsXG4vLyAgIENhdGVnb3J5U2NhbGUsXG4vLyAgIExpbmVhclNjYWxlLFxuLy8gICBQb2ludEVsZW1lbnQsXG4vLyB9IGZyb20gXCJjaGFydC5qc1wiO1xuLy8gaW1wb3J0IE1vZGFsIGZyb20gJ3JlYWN0LW1vZGFsJztcblxuLy8gLy8gRHluYW1pY2FsbHkgbG9hZCByZWFjdC1wNSBzaW5jZSBwNS5qcyByZWxpZXMgb24gYnJvd3Nlci1zcGVjaWZpYyBmZWF0dXJlc1xuLy8gY29uc3QgU2tldGNoID0gZHluYW1pYygoKSA9PiBpbXBvcnQoXCJyZWFjdC1wNVwiKS50aGVuKChtb2QpID0+IG1vZC5kZWZhdWx0KSwge1xuLy8gICBzc3I6IGZhbHNlLFxuLy8gfSk7XG5cbi8vIC8vIFJlZ2lzdGVyIENoYXJ0LmpzIGNvbXBvbmVudHNcbi8vIENoYXJ0SlMucmVnaXN0ZXIoTGluZUVsZW1lbnQsIENhdGVnb3J5U2NhbGUsIExpbmVhclNjYWxlLCBQb2ludEVsZW1lbnQpO1xuXG4vLyAvLyBEZWZpbmUgY2hhcnQgZGF0YSB0eXBlXG4vLyB0eXBlIENoYXJ0RGF0YSA9IHtcbi8vICAgbGFiZWxzOiBudW1iZXJbXTtcbi8vICAgZGF0YXNldHM6IHtcbi8vICAgICBsYWJlbDogc3RyaW5nO1xuLy8gICAgIGRhdGE6IG51bWJlcltdO1xuLy8gICAgIGJvcmRlckNvbG9yOiBzdHJpbmc7XG4vLyAgICAgZmlsbDogYm9vbGVhbjtcbi8vICAgICBib3JkZXJEYXNoPzogbnVtYmVyW107XG4vLyAgIH1bXTtcbi8vIH07XG5cbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNpbXVsYXRpb24oKSB7XG5cbi8vICAgY29uc3QgW3Nob3dNb2RhbCwgc2V0U2hvd01vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbi8vICAgY29uc3QgW2dyYXBocywgc2V0R3JhcGhzXSA9IHVzZVN0YXRlKFtdKTtcbi8vICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XG5cbi8vICAgY29uc3QgYWRkTmV3R3JhcGggPSAobmV3UGFyYW1zKT0+IHtcbi8vICAgICBjb25zdCBuZXdHcmFwaERhdGEgPSBydW5TaW11bGF0aW9uKG5ld1BhcmFtcyk7XG4vLyAgICAgc2V0R3JhcGhzKFsuLi5ncmFwaHMsIG5ld0dyYXBoRGF0YV0pO1xuLy8gICAgIHNldFNob3dNb2RhbChmYWxzZSk7XG4vLyAgIH1cblxuLy8gICAvLyBFeHRyYWN0IHBhcmFtZXRlcnMgZnJvbSBVUkxcbi8vICAgY29uc3QgdmFjY2luZUVmZmljYWN5ID0gcGFyc2VGbG9hdChcbi8vICAgICBzZWFyY2hQYXJhbXMuZ2V0KFwidmFjY2luZUVmZmljYWN5XCIpIHx8IFwiMC44XCJcbi8vICAgKTtcbi8vICAgY29uc3QgcG9wdWxhdGlvblZhY2NpbmF0ZWQgPSBwYXJzZUZsb2F0KFxuLy8gICAgIHNlYXJjaFBhcmFtcy5nZXQoXCJwb3B1bGF0aW9uVmFjY2luYXRlZFwiKSB8fCBcIjAuN1wiXG4vLyAgICk7XG4vLyAgIGNvbnN0IGluZmVjdGlvblByb2JhYmlsaXR5ID0gcGFyc2VGbG9hdChcbi8vICAgICBzZWFyY2hQYXJhbXMuZ2V0KFwiaW5mZWN0aW9uUHJvYmFiaWxpdHlcIikgfHwgXCIwLjVcIlxuLy8gICApO1xuLy8gICBjb25zdCB2YWNjaW5hdGVkUmVjb3ZlcnlSYXRlID0gcGFyc2VGbG9hdChcbi8vICAgICBzZWFyY2hQYXJhbXMuZ2V0KFwidmFjY2luYXRlZFJlY292ZXJ5UmF0ZVwiKSB8fCBcIjAuNVwiXG4vLyAgICk7XG4vLyAgIGNvbnN0IHVudmFjY2luYXRlZFJlY292ZXJ5UmF0ZSA9IHBhcnNlRmxvYXQoXG4vLyAgICAgc2VhcmNoUGFyYW1zLmdldChcInVudmFjY2luYXRlZFJlY292ZXJ5UmF0ZVwiKSB8fCBcIjAuMVwiXG4vLyAgICk7XG4vLyAgIGNvbnN0IHBlYWtJbmZlY3Rpb25EYXkgPSBwYXJzZUludChcbi8vICAgICBzZWFyY2hQYXJhbXMuZ2V0KFwicGVha0luZmVjdGlvbkRheVwiKSB8fCBcIjVcIlxuLy8gICApO1xuLy8gICBjb25zdCB0b3RhbERheXMgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KFwidG90YWxEYXlzXCIpIHx8IFwiMzBcIik7XG4vLyAgIGNvbnN0IHBvcHVsYXRpb25TaXplID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldChcInBvcHVsYXRpb25TaXplXCIpIHx8IFwiMTAwXCIpO1xuXG4vLyAgIC8vIFN0YXRlIGZvciBzaW11bGF0aW9uIGRhdGFcbi8vICAgY29uc3QgW2RheXMsIHNldERheXNdID0gdXNlU3RhdGU8bnVtYmVyW10+KFtdKTtcbi8vICAgY29uc3QgW3N1c2NlcHRpYmxlUG9wdWxhdGlvbiwgc2V0U3VzY2VwdGlibGVQb3B1bGF0aW9uXSA9IHVzZVN0YXRlPG51bWJlcltdPihcbi8vICAgICBbXVxuLy8gICApO1xuLy8gICBjb25zdCBbaW5mZWN0ZWRQb3B1bGF0aW9uLCBzZXRJbmZlY3RlZFBvcHVsYXRpb25dID0gdXNlU3RhdGU8bnVtYmVyW10+KFtdKTtcbi8vICAgY29uc3QgW3JlY292ZXJlZFZhY2NpbmF0ZWQsIHNldFJlY292ZXJlZFZhY2NpbmF0ZWRdID0gdXNlU3RhdGU8bnVtYmVyW10+KFtdKTtcbi8vICAgY29uc3QgW3JlY292ZXJlZFVudmFjY2luYXRlZCwgc2V0UmVjb3ZlcmVkVW52YWNjaW5hdGVkXSA9IHVzZVN0YXRlPG51bWJlcltdPihcbi8vICAgICBbXVxuLy8gICApO1xuLy8gICBjb25zdCBbdG90YWxSZWNvdmVyZWRQb3B1bGF0aW9uLCBzZXRUb3RhbFJlY292ZXJlZFBvcHVsYXRpb25dID0gdXNlU3RhdGU8XG4vLyAgICAgbnVtYmVyW11cbi8vICAgPihbXSk7XG4vLyAgIGNvbnN0IFtzcGVlZCwgc2V0U3BlZWRdID0gdXNlU3RhdGUoMSk7IC8vIDF4IHNwZWVkIGJ5IGRlZmF1bHRcblxuLy8gICBjb25zdCBwNUluc3RhbmNlID0gdXNlUmVmPGFueT4obnVsbCk7IC8vIFJlZmVyZW5jZSB0byBwNS5qcyBpbnN0YW5jZVxuXG4vLyAgIC8vIENoYXJ0IGRhdGFcbi8vICAgY29uc3QgW2NoYXJ0RGF0YSwgc2V0Q2hhcnREYXRhXSA9IHVzZVN0YXRlPENoYXJ0RGF0YT4oe1xuLy8gICAgIGxhYmVsczogW10sIC8vIEZyYW1lIGNvdW50IChvciB0aW1lIHN0ZXBzKVxuLy8gICAgIGRhdGFzZXRzOiBbXG4vLyAgICAgICB7XG4vLyAgICAgICAgIGxhYmVsOiBcIlN1c2NlcHRpYmxlXCIsXG4vLyAgICAgICAgIGRhdGE6IFtdLFxuLy8gICAgICAgICBib3JkZXJDb2xvcjogXCJvcmFuZ2VcIixcbi8vICAgICAgICAgZmlsbDogZmFsc2UsXG4vLyAgICAgICB9LFxuLy8gICAgICAge1xuLy8gICAgICAgICBsYWJlbDogXCJJbmZlY3RlZFwiLFxuLy8gICAgICAgICBkYXRhOiBbXSxcbi8vICAgICAgICAgYm9yZGVyQ29sb3I6IFwicmVkXCIsXG4vLyAgICAgICAgIGZpbGw6IGZhbHNlLFxuLy8gICAgICAgfSxcbi8vICAgICAgIHtcbi8vICAgICAgICAgbGFiZWw6IFwiVG90YWwgUmVjb3ZlcmVkXCIsXG4vLyAgICAgICAgIGRhdGE6IFtdLFxuLy8gICAgICAgICBib3JkZXJDb2xvcjogXCJncmVlblwiLFxuLy8gICAgICAgICBmaWxsOiBmYWxzZSxcbi8vICAgICAgIH0sXG4vLyAgICAgICB7XG4vLyAgICAgICAgIGxhYmVsOiBcIlJlY292ZXJlZCBWYWNjaW5hdGVkXCIsXG4vLyAgICAgICAgIGRhdGE6IFtdLFxuLy8gICAgICAgICBib3JkZXJDb2xvcjogXCJibHVlXCIsXG4vLyAgICAgICAgIGJvcmRlckRhc2g6IFs1LCA1XSxcbi8vICAgICAgICAgZmlsbDogZmFsc2UsXG4vLyAgICAgICB9LFxuLy8gICAgICAge1xuLy8gICAgICAgICBsYWJlbDogXCJSZWNvdmVyZWQgVW52YWNjaW5hdGVkXCIsXG4vLyAgICAgICAgIGRhdGE6IFtdLFxuLy8gICAgICAgICBib3JkZXJDb2xvcjogXCJwdXJwbGVcIixcbi8vICAgICAgICAgYm9yZGVyRGFzaDogWzUsIDVdLFxuLy8gICAgICAgICBmaWxsOiBmYWxzZSxcbi8vICAgICAgIH0sXG4vLyAgICAgXSxcbi8vICAgfSk7XG5cbi8vICAgLy8gSW5pdGlhbGl6ZSBhbmQgY2FsY3VsYXRlIGZsdSBtb2RlbCBkYXRhXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XG4vLyAgICAgY29uc3QgZGF5c0FycmF5ID0gQXJyYXkuZnJvbShcbi8vICAgICAgIHsgbGVuZ3RoOiAxMDAgfSxcbi8vICAgICAgIChfLCBpKSA9PiAoaSAvIDEwMCkgKiB0b3RhbERheXNcbi8vICAgICApO1xuLy8gICAgIHNldERheXMoZGF5c0FycmF5KTtcblxuLy8gICAgIGNvbnN0IHZhY2NpbmF0ZWRQb3B1bGF0aW9uID0gcG9wdWxhdGlvblNpemUgKiBwb3B1bGF0aW9uVmFjY2luYXRlZDtcbi8vICAgICBjb25zdCB1bnZhY2NpbmF0ZWRQb3B1bGF0aW9uID0gcG9wdWxhdGlvblNpemUgKiAoMSAtIHBvcHVsYXRpb25WYWNjaW5hdGVkKTtcblxuLy8gICAgIC8vIENhbGN1bGF0ZSByZWNvdmVyZWQgcG9wdWxhdGlvblxuLy8gICAgIGNvbnN0IHJlY292ZXJlZFZhY2NpbmF0ZWRBcnJheSA9IGRheXNBcnJheS5tYXAoXG4vLyAgICAgICAoZGF5KSA9PlxuLy8gICAgICAgICAoMSAvICgxICsgTWF0aC5leHAoLXZhY2NpbmF0ZWRSZWNvdmVyeVJhdGUgKiAoZGF5IC0gdG90YWxEYXlzIC8gMikpKSkgKlxuLy8gICAgICAgICB2YWNjaW5hdGVkUG9wdWxhdGlvblxuLy8gICAgICk7XG5cbi8vICAgICBjb25zdCByZWNvdmVyZWRVbnZhY2NpbmF0ZWRBcnJheSA9IGRheXNBcnJheS5tYXAoXG4vLyAgICAgICAoZGF5KSA9PlxuLy8gICAgICAgICAoMSAvXG4vLyAgICAgICAgICAgKDEgKyBNYXRoLmV4cCgtdW52YWNjaW5hdGVkUmVjb3ZlcnlSYXRlICogKGRheSAtIHRvdGFsRGF5cyAvIDIpKSkpICpcbi8vICAgICAgICAgdW52YWNjaW5hdGVkUG9wdWxhdGlvblxuLy8gICAgICk7XG5cbi8vICAgICBjb25zdCBpbmZlY3RlZEFycmF5ID0gZGF5c0FycmF5Lm1hcChcbi8vICAgICAgIChkYXkpID0+XG4vLyAgICAgICAgIE1hdGguZXhwKC1pbmZlY3Rpb25Qcm9iYWJpbGl0eSAqIChkYXkgLSBwZWFrSW5mZWN0aW9uRGF5KSAqKiAyKSAqXG4vLyAgICAgICAgIHBvcHVsYXRpb25TaXplXG4vLyAgICAgKTtcblxuLy8gICAgIGNvbnN0IHJlY292ZXJlZEFycmF5ID0gcmVjb3ZlcmVkVmFjY2luYXRlZEFycmF5Lm1hcChcbi8vICAgICAgIChydiwgaSkgPT4gcnYgKyByZWNvdmVyZWRVbnZhY2NpbmF0ZWRBcnJheVtpXVxuLy8gICAgICk7XG5cbi8vICAgICBjb25zdCBzdXNjZXB0aWJsZUFycmF5ID0gZGF5c0FycmF5Lm1hcCgoXywgaSkgPT4ge1xuLy8gICAgICAgY29uc3Qgc3VzY2VwdGlibGVWYWx1ZSA9XG4vLyAgICAgICAgIHBvcHVsYXRpb25TaXplIC0gKGluZmVjdGVkQXJyYXlbaV0gKyByZWNvdmVyZWRBcnJheVtpXSk7XG4vLyAgICAgICByZXR1cm4gTWF0aC5tYXgoc3VzY2VwdGlibGVWYWx1ZSwgMCk7IC8vIEVuc3VyZSBubyBuZWdhdGl2ZSB2YWx1ZXNcbi8vICAgICB9KTtcblxuLy8gICAgIC8vIFNldCBjYWxjdWxhdGVkIHN0YXRlIHZhcmlhYmxlc1xuLy8gICAgIHNldFN1c2NlcHRpYmxlUG9wdWxhdGlvbihzdXNjZXB0aWJsZUFycmF5KTtcbi8vICAgICBzZXRJbmZlY3RlZFBvcHVsYXRpb24oaW5mZWN0ZWRBcnJheSk7XG4vLyAgICAgc2V0UmVjb3ZlcmVkVmFjY2luYXRlZChyZWNvdmVyZWRWYWNjaW5hdGVkQXJyYXkpO1xuLy8gICAgIHNldFJlY292ZXJlZFVudmFjY2luYXRlZChyZWNvdmVyZWRVbnZhY2NpbmF0ZWRBcnJheSk7XG4vLyAgICAgc2V0VG90YWxSZWNvdmVyZWRQb3B1bGF0aW9uKHJlY292ZXJlZEFycmF5KTtcbi8vICAgfSwgW1xuLy8gICAgIGluZmVjdGlvblByb2JhYmlsaXR5LFxuLy8gICAgIHZhY2NpbmF0ZWRSZWNvdmVyeVJhdGUsXG4vLyAgICAgdW52YWNjaW5hdGVkUmVjb3ZlcnlSYXRlLFxuLy8gICAgIHBvcHVsYXRpb25WYWNjaW5hdGVkLFxuLy8gICAgIHBlYWtJbmZlY3Rpb25EYXksXG4vLyAgICAgdG90YWxEYXlzLFxuLy8gICAgIHBvcHVsYXRpb25TaXplLFxuLy8gICBdKTtcblxuLy8gICAvLyBVcGRhdGUgY2hhcnQgZGF0YSB3aGVuIHN0YXRlIGNoYW5nZXNcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcbi8vICAgICBzZXRDaGFydERhdGEoe1xuLy8gICAgICAgbGFiZWxzOiBkYXlzLFxuLy8gICAgICAgZGF0YXNldHM6IFtcbi8vICAgICAgICAge1xuLy8gICAgICAgICAgIGxhYmVsOiBcIlN1c2NlcHRpYmxlXCIsXG4vLyAgICAgICAgICAgZGF0YTogc3VzY2VwdGlibGVQb3B1bGF0aW9uLFxuLy8gICAgICAgICAgIGJvcmRlckNvbG9yOiBcIm9yYW5nZVwiLFxuLy8gICAgICAgICAgIGZpbGw6IGZhbHNlLFxuLy8gICAgICAgICB9LFxuLy8gICAgICAgICB7XG4vLyAgICAgICAgICAgbGFiZWw6IFwiSW5mZWN0ZWRcIixcbi8vICAgICAgICAgICBkYXRhOiBpbmZlY3RlZFBvcHVsYXRpb24sXG4vLyAgICAgICAgICAgYm9yZGVyQ29sb3I6IFwicmVkXCIsXG4vLyAgICAgICAgICAgZmlsbDogZmFsc2UsXG4vLyAgICAgICAgIH0sXG4vLyAgICAgICAgIHtcbi8vICAgICAgICAgICBsYWJlbDogXCJUb3RhbCBSZWNvdmVyZWRcIixcbi8vICAgICAgICAgICBkYXRhOiB0b3RhbFJlY292ZXJlZFBvcHVsYXRpb24sXG4vLyAgICAgICAgICAgYm9yZGVyQ29sb3I6IFwiZ3JlZW5cIixcbi8vICAgICAgICAgICBmaWxsOiBmYWxzZSxcbi8vICAgICAgICAgfSxcbi8vICAgICAgICAge1xuLy8gICAgICAgICAgIGxhYmVsOiBcIlJlY292ZXJlZCBWYWNjaW5hdGVkXCIsXG4vLyAgICAgICAgICAgZGF0YTogcmVjb3ZlcmVkVmFjY2luYXRlZCxcbi8vICAgICAgICAgICBib3JkZXJDb2xvcjogXCJibHVlXCIsXG4vLyAgICAgICAgICAgYm9yZGVyRGFzaDogWzUsIDVdLFxuLy8gICAgICAgICAgIGZpbGw6IGZhbHNlLFxuLy8gICAgICAgICB9LFxuLy8gICAgICAgICB7XG4vLyAgICAgICAgICAgbGFiZWw6IFwiUmVjb3ZlcmVkIFVudmFjY2luYXRlZFwiLFxuLy8gICAgICAgICAgIGRhdGE6IHJlY292ZXJlZFVudmFjY2luYXRlZCxcbi8vICAgICAgICAgICBib3JkZXJDb2xvcjogXCJwdXJwbGVcIixcbi8vICAgICAgICAgICBib3JkZXJEYXNoOiBbNSwgNV0sXG4vLyAgICAgICAgICAgZmlsbDogZmFsc2UsXG4vLyAgICAgICAgIH0sXG4vLyAgICAgICBdLFxuLy8gICAgIH0pO1xuLy8gICB9LCBbXG4vLyAgICAgZGF5cyxcbi8vICAgICBzdXNjZXB0aWJsZVBvcHVsYXRpb24sXG4vLyAgICAgaW5mZWN0ZWRQb3B1bGF0aW9uLFxuLy8gICAgIHRvdGFsUmVjb3ZlcmVkUG9wdWxhdGlvbixcbi8vICAgICByZWNvdmVyZWRWYWNjaW5hdGVkLFxuLy8gICAgIHJlY292ZXJlZFVudmFjY2luYXRlZCxcbi8vICAgXSk7XG5cbi8vICAgLy8gcDUuanMgc2V0dXAgYW5kIGRyYXcgZnVuY3Rpb25zXG4vLyAgIGNvbnN0IHNldHVwID0gKHA1OiBhbnksIGNhbnZhc1BhcmVudFJlZjogRWxlbWVudCkgPT4ge1xuLy8gICAgIHA1LmNyZWF0ZUNhbnZhcyg4MDAsIDYwMCkucGFyZW50KGNhbnZhc1BhcmVudFJlZik7XG4vLyAgICAgcDVJbnN0YW5jZS5jdXJyZW50ID0gcDU7XG4vLyAgICAgcDUuZnJhbWVSYXRlKDMwKTtcbi8vICAgfTtcblxuLy8gICBjb25zdCBkcmF3ID0gKHA1OiBhbnkpID0+IHtcbi8vICAgICBwNS5iYWNrZ3JvdW5kKDI1NSk7XG4vLyAgIH07XG5cbi8vICAgLy8gSGFuZGxlIHNwZWVkIGNoYW5nZXMgdXNpbmcgcDUncyBmcmFtZVJhdGUoKVxuLy8gICBjb25zdCBoYW5kbGVTcGVlZENoYW5nZSA9ICgpID0+IHtcbi8vICAgICBpZiAoc3BlZWQgPT09IDEpIHtcbi8vICAgICAgIHNldFNwZWVkKDIpO1xuLy8gICAgICAgcDVJbnN0YW5jZS5jdXJyZW50LmZyYW1lUmF0ZSg2MCk7XG4vLyAgICAgfSBlbHNlIGlmIChzcGVlZCA9PT0gMikge1xuLy8gICAgICAgc2V0U3BlZWQoNCk7XG4vLyAgICAgICBwNUluc3RhbmNlLmN1cnJlbnQuZnJhbWVSYXRlKDEyMCk7XG4vLyAgICAgfSBlbHNlIHtcbi8vICAgICAgIHNldFNwZWVkKDEpO1xuLy8gICAgICAgcDVJbnN0YW5jZS5jdXJyZW50LmZyYW1lUmF0ZSgzMCk7XG4vLyAgICAgfVxuLy8gICB9O1xuXG4vLyAgIHJldHVybiAoXG4vLyAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZ2FwOiBcIjIwcHhcIiB9fT5cbi8vICAgICAgIHsvKiBMZWZ0OiBTaW11bGF0aW9uICovfVxuLy8gICAgICAgPGRpdj5cbi8vICAgICAgICAgPGgyPkZsdSBTaW11bGF0aW9uPC9oMj5cbi8vICAgICAgICAgPHA+VmFjY2luZSBFZmZpY2FjeToge01hdGgucm91bmQodmFjY2luZUVmZmljYWN5ICogMTAwKX0lPC9wPlxuLy8gICAgICAgICA8cD5Qb3B1bGF0aW9uIFZhY2NpbmF0ZWQ6IHtNYXRoLnJvdW5kKHBvcHVsYXRpb25WYWNjaW5hdGVkICogMTAwKX0lPC9wPlxuLy8gICAgICAgICA8cD5JbmZlY3Rpb24gUHJvYmFiaWxpdHk6IHtNYXRoLnJvdW5kKGluZmVjdGlvblByb2JhYmlsaXR5ICogMTAwKX0lPC9wPlxuLy8gICAgICAgICA8cD5cbi8vICAgICAgICAgICBWYWNjaW5hdGVkIFJlY292ZXJ5IFJhdGU6IHtNYXRoLnJvdW5kKHZhY2NpbmF0ZWRSZWNvdmVyeVJhdGUgKiAxMDApfSVcbi8vICAgICAgICAgPC9wPlxuLy8gICAgICAgICA8cD5cbi8vICAgICAgICAgICBVbnZhY2NpbmF0ZWQgUmVjb3ZlcnkgUmF0ZTp7XCIgXCJ9XG4vLyAgICAgICAgICAge01hdGgucm91bmQodW52YWNjaW5hdGVkUmVjb3ZlcnlSYXRlICogMTAwKX0lXG4vLyAgICAgICAgIDwvcD5cbi8vICAgICAgICAgPHA+UGVhayBJbmZlY3Rpb24gRGF5OiB7cGVha0luZmVjdGlvbkRheX08L3A+XG4vLyAgICAgICAgIDxwPlRvdGFsIERheXM6IHt0b3RhbERheXN9PC9wPlxuLy8gICAgICAgICA8cD5Qb3B1bGF0aW9uIFNpemU6IHtwb3B1bGF0aW9uU2l6ZX08L3A+XG5cbi8vICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVTcGVlZENoYW5nZX0+XG4vLyAgICAgICAgICAge3NwZWVkID09PSAxXG4vLyAgICAgICAgICAgICA/IFwiU3BlZWQgVXAgKDJ4KVwiXG4vLyAgICAgICAgICAgICA6IHNwZWVkID09PSAyXG4vLyAgICAgICAgICAgICA/IFwiU3BlZWQgVXAgKDR4KVwiXG4vLyAgICAgICAgICAgICA6IFwiUmVzZXQgU3BlZWQgKDF4KVwifVxuLy8gICAgICAgICA8L2J1dHRvbj5cblxuLy8gICAgICAgICA8U2tldGNoIHNldHVwPXtzZXR1cH0gZHJhdz17ZHJhd30gLz5cbi8vICAgICAgIDwvZGl2PlxuXG4vLyAgICAgICB7LyogUmlnaHQ6IExpbmUgR3JhcGggKi99XG4vLyAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiBcIjQwMHB4XCIgfX0+XG4vLyAgICAgICAgIDxoMz5TdGF0dXMgT3ZlciBUaW1lPC9oMz5cbi8vICAgICAgICAgPExpbmUgZGF0YT17Y2hhcnREYXRhfSAvPlxuLy8gICAgICAgPC9kaXY+XG5cbi8vICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TW9kYWwodHJ1ZSl9PkFkZCBOZXc8L2J1dHRvbj5cblxuLy8gICAgICAgey8qIE1vZGFsIGZvciBhZGRpbmcgbmV3IGdyYXBoICovfVxuLy8gICAgICAgPE1vZGFsIGlzT3Blbj17c2hvd01vZGFsfSBvblJlcXVlc3RDbG9zZT17KCkgPT4gc2V0U2hvd01vZGFsKGZhbHNlKX0+XG4vLyAgICAgICAgIDxoMj5FbnRlciBOZXcgUGFyYW1ldGVyczwvaDI+XG4vLyAgICAgICAgIDxQYXJhbWV0ZXJGb3JtIG9uU3VibWl0PXthZGROZXdHcmFwaH0gY2xvc2VNb2RhbD17KCkgPT4gc2V0U2hvd01vZGFsKGZhbHNlKX0gLz5cbi8vICAgICAgIDwvTW9kYWw+XG5cbi8vICAgICAgIHsvKiBEaXNwbGF5IGFsbCBncmFwaHMgKi99XG4vLyAgICAgICB7Z3JhcGhzLm1hcCgoZ3JhcGgsIGluZGV4KSA9PiAoXG4vLyAgICAgICAgIDxkaXYga2V5PXtpbmRleH0+XG4vLyAgICAgICAgICAgPGgzPkdyYXBoIHtpbmRleCArIDF9PC9oMz5cbi8vICAgICAgICAgICA8TGluZSBkYXRhPXtncmFwaH0gLz5cbi8vICAgICAgICAgPC9kaXY+XG4vLyAgICAgICApKX1cbi8vICAgICA8L2Rpdj5cbi8vICAgKTtcblxuLy8gfVxuIl0sIm5hbWVzIjpbInVzZVNlYXJjaFBhcmFtcyIsImR5bmFtaWMiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkxpbmUiLCJDaGFydCIsIkNoYXJ0SlMiLCJMaW5lRWxlbWVudCIsIkNhdGVnb3J5U2NhbGUiLCJMaW5lYXJTY2FsZSIsIlBvaW50RWxlbWVudCIsIlNrZXRjaCIsInRoZW4iLCJtb2QiLCJkZWZhdWx0Iiwic3NyIiwicmVnaXN0ZXIiLCJTaW11bGF0aW9uIiwic2VhcmNoUGFyYW1zIiwidmFjY2luZUVmZmljYWN5IiwicGFyc2VGbG9hdCIsImdldCIsInBvcHVsYXRpb25WYWNjaW5hdGVkIiwiaW5mZWN0aW9uUHJvYmFiaWxpdHkiLCJ2YWNjaW5hdGVkUmVjb3ZlcnlSYXRlIiwidW52YWNjaW5hdGVkUmVjb3ZlcnlSYXRlIiwicGVha0luZmVjdGlvbkRheSIsInBhcnNlSW50IiwidG90YWxEYXlzIiwicG9wdWxhdGlvblNpemUiLCJwZW9wbGUiLCJzZXRQZW9wbGUiLCJwNUluc3RhbmNlIiwic3BlZWQiLCJzZXRTcGVlZCIsImNoYXJ0RGF0YSIsInNldENoYXJ0RGF0YSIsImxhYmVscyIsImRhdGFzZXRzIiwibGFiZWwiLCJkYXRhIiwiYm9yZGVyQ29sb3IiLCJmaWxsIiwiZnJhbWVDb3VudCIsIlBlcnNvbiIsInRyeVRvSW5mZWN0IiwicDUiLCJpbmZlY3Rpb25SYWRpdXMiLCJzdGF0dXMiLCJvdGhlciIsImQiLCJkaXN0IiwieCIsInkiLCJ2YWNjaW5hdGVkIiwiTWF0aCIsInJhbmRvbSIsIm1vdmUiLCJjb25zdHJhaW4iLCJ3aWR0aCIsImhlaWdodCIsInNob3ciLCJlbGxpcHNlIiwicmVjb3ZlciIsInJlY292ZXJ5Q2hhbmNlIiwiY29uc3RydWN0b3IiLCJsZW5ndGgiLCJuZXdQZW9wbGUiLCJpIiwicHVzaCIsInVwZGF0ZUNoYXJ0RGF0YSIsImhlYWx0aHkiLCJpbmZlY3RlZCIsInJlY292ZXJlZCIsImZyYW1lIiwicHJldkRhdGEiLCJzZXR1cCIsImNhbnZhc1BhcmVudFJlZiIsImNyZWF0ZUNhbnZhcyIsInBhcmVudCIsImN1cnJlbnQiLCJmcmFtZVJhdGUiLCJkcmF3IiwiYmFja2dyb3VuZCIsImhlYWx0aHlDb3VudCIsImluZmVjdGVkQ291bnQiLCJyZWNvdmVyZWRDb3VudCIsImZvckVhY2giLCJwZXJzb24iLCJub0xvb3AiLCJoYW5kbGVTcGVlZENoYW5nZSIsImRpdiIsInN0eWxlIiwiZGlzcGxheSIsImdhcCIsImgyIiwicCIsInJvdW5kIiwiYnV0dG9uIiwib25DbGljayIsImgzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/simulation/page.tsx\n"));

/***/ })

});